(this.webpackJsonpadmin_dashboard=this.webpackJsonpadmin_dashboard||[]).push([[11],{327:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));var n=t(21),c=t(16),r=t(8),l=t(0),o=t.n(l),i=t(77),u=t(107),m=t(106),s=t(49),d=t(60),b=t(178),p=t(59),g=t(15),f=t(13),E=t(36),y=Object(i.a)({avatar:{backgroundColor:s.a[100],color:s.a[600]},container:{padding:"1rem",minWidth:"500px"},input:{width:"100%"},icon:{width:"100%"},footer:{display:"flex",flexDirection:"row",marginTop:"1rem",justifyContent:"flex-end"}});function h(e){var a=e.onClose,t=e.refresh_list,i=e.open,s=e.parent,h=y(),j=Object(l.useState)({name:"",icon_class:""}),O=Object(r.a)(j,2),v=O[0],C=O[1],S=Object(l.useState)(null),k=Object(r.a)(S,2),_=k[0],w=k[1],x=Object(l.useState)(null),N=Object(r.a)(x,2),I=N[0],R=N[1],U=Object(l.useState)(!1),L=Object(r.a)(U,2),T=L[0],B=L[1],W=Object(l.useState)({name:null,src:null,aspect:1}),D=Object(r.a)(W,2),P=D[0],z=D[1],A=Object(l.useState)(!1),F=Object(r.a)(A,2),q=F[0],J=F[1],G=Object(l.useState)({name:null,src:null,aspect:3.5}),H=Object(r.a)(G,2),K=H[0],M=H[1];return o.a.createElement(m.a,{"aria-labelledby":"add-category",open:i},o.a.createElement(u.a,{id:"add-category"},"Add Category"),o.a.createElement("div",{className:h.container},o.a.createElement(d.a,{style:{marginTop:"1rem",marginBottom:"0.5rem"}},"Name sub-category:"),o.a.createElement(b.a,{variant:"outlined",placeholder:"Name Category",required:!0,name:"name",value:v.name,onChange:function(e){var a=e.target.name,t=e.target.value;C(Object(c.a)({},v,Object(n.a)({},a,t)))},className:h.input}),o.a.createElement("span",null,"Icon: "),o.a.createElement("label",{htmlFor:"input-icon-pcat"},"Upload"),o.a.createElement("div",{style:{width:"3em",height:"3em",border:_?"none":"1px dashed black",marginTop:"1em",marginBottom:"1em",backgroundImage:_?"url(".concat(_,")"):"none",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),o.a.createElement("input",{type:"file",id:"input-icon-pcat",style:{display:"none"},onChange:function(e){var a=e.target.files[0],t=URL.createObjectURL(a);z({src:t,aspect:1}),B(!0)}}),o.a.createElement("span",null,"Banner: "),o.a.createElement("input",{type:"file",id:"input-banner-pcat",style:{display:"none"},onChange:function(e){var a=e.target.files[0],t=URL.createObjectURL(a);M({src:t,aspect:3.5}),J(!0)}}),o.a.createElement("label",{htmlFor:"input-banner-pcat"},"Upload"),o.a.createElement("div",{style:{width:"100%",height:"9em",border:_?"none":"1px dashed black",marginTop:"1em",backgroundImage:I?"url(".concat(I,")"):"none",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:h.footer},o.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){Object(g.c)(f.a+"/admin/sub_category",{},{name:v.name,category_id:s.id,banner:I,icon:_},!0).then((function(e){t(),a()})).catch((function(e){}))}},"Save"),o.a.createElement(p.a,{style:{marginLeft:"0.5rem"},onClick:a},"Cancel"))),o.a.createElement(E.a,{data:P,open:T,setPImage:function(e){e.name;var a=e.url_image;w(a)},onClose:function(){B(!1)}}),o.a.createElement(E.a,{data:K,open:q,setPImage:function(e){e.name;var a=e.url_image;R(a)},onClose:function(){J(!1)}}))}},328:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));var n=t(21),c=t(16),r=t(8),l=t(0),o=t.n(l),i=t(77),u=t(107),m=t(106),s=t(49),d=t(60),b=t(178),p=t(59),g=t(15),f=t(13),E=t(36),y=Object(i.a)({avatar:{backgroundColor:s.a[100],color:s.a[600]},container:{padding:"1rem",minWidth:"500px"},input:{width:"100%"},icon:{width:"100%"},footer:{display:"flex",flexDirection:"row",marginTop:"1rem",justifyContent:"flex-end"}});function h(e){var a=e.onClose,t=e.refresh_list,i=e.open,s=(e.parent,e.data),h=y(),j=Object(l.useState)({name:""}),O=Object(r.a)(j,2),v=O[0],C=O[1];Object(l.useEffect)((function(){C(Object(c.a)({},v,{name:s.name})),w(s.icon),R(s.banner)}),[s]);var S=Object(l.useState)(null),k=Object(r.a)(S,2),_=k[0],w=k[1],x=Object(l.useState)(null),N=Object(r.a)(x,2),I=N[0],R=N[1],U=Object(l.useState)(!1),L=Object(r.a)(U,2),T=L[0],B=L[1],W=Object(l.useState)({name:null,src:null,aspect:1}),D=Object(r.a)(W,2),P=D[0],z=D[1],A=Object(l.useState)(!1),F=Object(r.a)(A,2),q=F[0],J=F[1],G=Object(l.useState)({name:null,src:null,aspect:3.5}),H=Object(r.a)(G,2),K=H[0],M=H[1];return o.a.createElement(m.a,{"aria-labelledby":"simple-dialog-title",open:i},o.a.createElement(u.a,null,"Add Category"),o.a.createElement("div",{className:h.container},o.a.createElement(d.a,{style:{marginTop:"1rem",marginBottom:"0.5rem"}},"Name sub-category:"),o.a.createElement(b.a,{variant:"outlined",placeholder:"Name Category",required:!0,name:"name",value:v.name,onChange:function(e){var a=e.target.name,t=e.target.value;C(Object(c.a)({},v,Object(n.a)({},a,t)))},className:h.input}),o.a.createElement("span",null,"Icon: "),o.a.createElement("label",{htmlFor:"input-icon-pcat"},"Upload"),o.a.createElement("div",{style:{width:"3em",height:"3em",border:_?"none":"1px dashed black",marginTop:"1em",marginBottom:"1em",backgroundImage:_?"url(".concat(_,")"):"none",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),o.a.createElement("input",{type:"file",id:"input-icon-pcat",style:{display:"none"},onChange:function(e){var a=e.target.files[0],t=URL.createObjectURL(a);z({src:t,aspect:1}),B(!0)}}),o.a.createElement("span",null,"Banner: "),o.a.createElement("input",{type:"file",id:"input-banner-pcat",style:{display:"none"},onChange:function(e){var a=e.target.files[0],t=URL.createObjectURL(a);M({src:t,aspect:3.5}),J(!0)}}),o.a.createElement("label",{htmlFor:"input-banner-pcat"},"Upload"),o.a.createElement("div",{style:{width:"100%",height:"9em",border:_?"none":"1px dashed black",marginTop:"1em",backgroundImage:I?"url(".concat(I,")"):"none",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:h.footer},o.a.createElement(p.a,{variant:"contained",color:"primary",onClick:function(){Object(g.d)(f.a+"/admin/sub_category/".concat(s.id),{},{name:v.name,icon:_,banner:I},!0).then((function(e){t(),a()})).catch((function(e){return alert("Error when edit category")}))}},"Save"),o.a.createElement(p.a,{style:{marginLeft:"0.5rem"},onClick:a},"Cancel"))),o.a.createElement(E.a,{data:P,open:T,setPImage:function(e){e.name;var a=e.url_image;w(a)},onClose:function(){B(!1)}}),o.a.createElement(E.a,{data:K,open:q,setPImage:function(e){e.name;var a=e.url_image;R(a)},onClose:function(){J(!1)}}))}},513:function(e,a,t){"use strict";t.r(a);var n=t(8),c=t(0),r=t.n(c),l=t(60),o=t(311),i=t(318),u=t(316),m=t(59),s=t(125),d=t.n(s),b=t(15),p=t(13),g=(t(187),t(188),t(77)),f=t(272),E=t(274),y=t(50),h=t(271),j=t(273),O=t(176),v=t(277),C=t(177),S=t(79),k=t.n(S),_=t(81),w=t.n(_),x=(t(122),t(123),t(66)),N=t(328),I=Object(g.a)({table:{minWidth:500,margin:"3rem auto"}});function R(e){var a=e.data,t=e.refresh_list,c=I(),l=r.a.useState(!1),o=Object(n.a)(l,2),i=o[0],u=o[1],m=r.a.useState(0),s=Object(n.a)(m,2),d=s[0],g=s[1],S=r.a.useState(!1),_=Object(n.a)(S,2),R=_[0],U=_[1],L=r.a.useState({}),T=Object(n.a)(L,2),B=T[0],W=T[1];return r.a.createElement(h.a,{component:v.a},r.a.createElement(f.a,{className:c.table,"aria-label":"simple table"},r.a.createElement(j.a,null,r.a.createElement(O.a,null,r.a.createElement(y.a,{style:{fontWeight:"bold"}},"Id"),r.a.createElement(y.a,{style:{fontWeight:"bold"}},"Name"),r.a.createElement(y.a,null,"Icon"),r.a.createElement(y.a,null,"Banner"),r.a.createElement(y.a,{align:"center",style:{fontWeight:"bold",width:"15rem"}},"Action"))),r.a.createElement(E.a,null,a.map((function(e){return r.a.createElement(O.a,{key:e.id},r.a.createElement(y.a,null,e.id),r.a.createElement(y.a,null,e.name),r.a.createElement(y.a,null,r.a.createElement("img",{src:e.icon,style:{height:"4em"}})),r.a.createElement(y.a,null,r.a.createElement("img",{src:e.banner,style:{height:"4em"}})),r.a.createElement(y.a,{align:"center"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(C.a,{style:{color:"#4caf50"},onClick:function(a){U(!0),W(e)}},r.a.createElement(k.a,null)),r.a.createElement(C.a,{style:{color:"#e91e63"},onClick:function(a){u(!0),g(e.id)}},r.a.createElement(w.a,null)))))})))),r.a.createElement(x.a,{open:i,onClose:function(){return u(!1)},handleDelete:function(){var e=d;u(!1),Object(b.a)(p.a+"/admin/sub_category/".concat(e),{},!0).then((function(e){return t()})).catch((function(e){return alert("Error while delete! Please make sure sub_category is None and list product of sub_category is None")}))}}),r.a.createElement(N.a,{open:R,onClose:function(){return U(!1)},refresh_list:t,data:B}))}var U=t(327);a.default=function(){var e=Object(c.useState)([]),a=Object(n.a)(e,2),t=a[0],s=a[1],g=Object(c.useState)(0),f=Object(n.a)(g,2),E=f[0],y=f[1],h=Object(c.useState)([]),j=Object(n.a)(h,2),O=j[0],v=j[1],C=Object(c.useState)(!1),S=Object(n.a)(C,2),k=S[0],_=S[1],w=Object(c.useState)({category_id:0,category_name:""}),x=Object(n.a)(w,2),N=x[0],I=x[1];Object(c.useEffect)((function(){Object(b.b)(p.a+"/public/category",{page:1},!1).then((function(e){s(e.data.list)}))}),[]),Object(c.useEffect)((function(){Object(b.b)(p.a+"/public/sub_category",{category_id:E},!1).then((function(e){v(e.data.list),I(e.data.category)})).catch((function(e){return v([])}))}),[E]);var L=function(){Object(b.b)(p.a+"/public/sub_category",{category_id:E},!1).then((function(e){return v(e.data.list)})).catch((function(e){return v([])}))};return r.a.createElement("div",{style:{padding:"2rem"}},r.a.createElement(l.a,{variant:"h4"},"SubCategory"),r.a.createElement("div",{style:{width:"100%",marginTop:"1.5rem",display:"flex",flexDirection:"row"}},r.a.createElement(o.a,{variant:"outlined",required:!0},r.a.createElement(i.a,{name:"category",value:E,onChange:function(e){y(e.target.value)}},r.a.createElement(u.a,{value:0,disabled:!0},"Select a category"),t.map((function(e){return r.a.createElement(u.a,{key:e.id,value:e.id},e.name)})))),r.a.createElement("div",{style:{flexGrow:1}}),0===E?null:r.a.createElement(m.a,{color:"primary",variant:"contained",onClick:function(){_(!0)}}," ",r.a.createElement(d.a,null),"Add Subcategory")),r.a.createElement(R,{data:O,refresh_list:L,parent:N}),r.a.createElement(U.a,{open:k,onClose:function(){return _(!1)},refresh_list:L,parent:N}))}}}]);
//# sourceMappingURL=11.5f1b4dd0.chunk.js.map