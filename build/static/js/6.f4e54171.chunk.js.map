{"version":3,"sources":["Component/CK_Editor/CkEditor.Component.jsx","Component/DialogPreview.jsx","Pages/EditProductPage.js"],"names":["CkEditorComponent","onChange","data","editor","ClassicEditor","config","simpleUpload","uploadUrl","localStorage","getItem","headers","onInit","onBlur","event","onFocus","useStyle","makeStyles","container","width","height","iconClose","position","top","right","marginRight","marginTop","minWidth","margin","DialogPreview","open","onClose","classes","fullScreen","className","onClick","ReactHtmlParser","useAddProductStyles","theme","padding","labelBtn","display","flexDirection","cursor","imgBtn","icon","borderRadius","backgroundColor","backdrop","zIndex","price","fontSize","EditProductPage","useState","name","main_price","sale_price","remain","state","setState","product_id","useParams","handleChange","useDispatch","e","preventDefault","target","value","history","useHistory","useEffect","setOpenBackdrop","get_data","BACK_END_URL","then","res","console","log","setImage","url_image_1","url_image_2","url_image_3","url_image_main","url_image_4","setDescription","description","setDataSale","description_sale","setSpec","specification","catch","error","dataSale","dataDescription","dataSpec","image","src","aspect","dataImage","setDataImage","imageChange","file","files","url","URL","createObjectURL","setOpenImage","handleDelImage","openBackdrop","openImage","openPreview","setOpenPreview","style","fontWeight","marginBottom","placeholder","type","required","endAdornment","bottom","left","transform","htmlFor","id","hidden","marginLeft","alt","objectFit","DefaultImage","justifyContent","orientation","flexItem","thousandSeparator","onValueChange","values","formattedValue","minHeight","getData","variant","color","size","url_main_image","put_data","alert","push","setPImage","url_image"],"mappings":"oHAAA,wDAqCeA,IAhCW,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,KAClC,OACI,6BACI,kBAAC,IAAD,CACIC,OAAQC,IACRF,KAAQA,EACRG,OAAQ,CACJC,aAAc,CAEVC,UAAU,gGAAD,OAAkGC,aAAaC,QAAQ,QAGhIC,QAAS,KAGjBC,OAAQ,SAAAR,KAKRF,SAAUA,EACVW,OAAQ,SAACC,EAAOV,KAGhBW,QAAS,SAACD,EAAOV,U,iCC7BjC,kFAQMY,GARN,OAQiBC,YAAW,CACxBC,UAAW,CACPC,MAAO,OACPC,OAAQ,QAEZC,UAAW,CACPC,SAAU,QACVC,IAAK,IACLC,MAAO,IACPC,YAAa,OACbC,UAAW,QAEfvB,KAAM,CACFgB,MAAO,MACPQ,SAAU,QACVP,OAAQ,QACRQ,OAAQ,WAsBDC,IAnBO,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,KAAM3B,EAAmB,EAAnBA,KAAM4B,EAAa,EAAbA,QAC1BC,EAAUhB,IAChB,OACI,kBAAC,IAAD,CAAQc,KAAMA,EAAMG,YAAY,GAC5B,yBAAKC,UAAWF,EAAQd,WACpB,kBAAC,IAAD,CAAYgB,UAAWF,EAAQX,UAAWc,QAASJ,GAC/C,kBAAC,IAAD,OAEJ,yBAAKG,UAAWF,EAAQ7B,MACpB,yBAAK+B,UAAW,cACXE,IAAgBjC,S,+WCdnCkC,EAAsBpB,aAAW,SAAAqB,GAAK,MAAK,CAC7CpB,UAAW,CACPqB,QAAS,QAEbC,SAAU,CACNC,QAAS,OACTC,cAAe,MACf,UAAW,CACPC,OAAQ,YAGhBC,OAAQ,GACRC,KAAM,CACFN,QAAS,SACTO,aAAc,MACd,UAAW,CACPC,gBAAiB,UACjBJ,OAAQ,YAGhBK,SAAU,CACNC,OAAQ,KAEZC,MAAO,CACH/B,MAAO,MACPoB,QAAS,OACTY,SAAU,YA2XHC,UAvXS,WACpB,IAAMpB,EAAUK,IADU,EAEAgB,mBAAS,CAC/BC,KAAM,KACNC,WAAY,KACZC,WAAY,KACZC,OAAS,OANa,mBAEnBC,EAFmB,KAEZC,EAFY,KAQnBC,EAAcC,cAAdD,WAEDE,GADWC,cACI,SAACC,GAClBA,EAAEC,iBACF,IAAIX,EAAOU,EAAEE,OAAOZ,KAChBa,EAAQH,EAAEE,OAAOC,MACrBR,EAAS,eACFD,EADC,eAEHJ,EAAOa,OAIVC,EAAUC,cAEhBC,qBAAU,WACNC,IAAgB,GAChBC,YAASC,IAAY,0BAAsBb,GAAc,IAAI,GACxDc,MAAK,SAAAC,GACFC,QAAQC,IAAIF,GACZhB,EAAS,CACLL,KAAMqB,EAAIxE,KAAKmD,KACfC,WAAYoB,EAAIxE,KAAK+C,MACrBM,WAAYmB,EAAIxE,KAAKqD,WACrBC,OAAQkB,EAAIxE,KAAKsD,SAErBqB,EAAS,CACLC,YAAaJ,EAAIxE,KAAK4E,YACtBC,YAAaL,EAAIxE,KAAK6E,YACtBC,YAAaN,EAAIxE,KAAK8E,YACtBC,eAAgBP,EAAIxE,KAAK+E,eACzBC,YAAaR,EAAIxE,KAAKgF,cAE1BC,EAAeT,EAAIxE,KAAKkF,aACxBC,EAAYX,EAAIxE,KAAKoF,kBACrBC,EAAQb,EAAIxE,KAAKsF,eACjBlB,IAAgB,MAEnBmB,OAAM,SAAAC,GAAK,OAAIpB,IAAgB,QACrC,IA9CuB,MAiDMlB,mBAAS,0DAjDf,mBAiDnBuC,EAjDmB,KAiDTN,EAjDS,OAkDgBjC,mBAAS,8CAlDzB,mBAkDnBwC,EAlDmB,KAkDFT,EAlDE,OAmDE/B,mBAAS,iDAnDX,mBAmDnByC,EAnDmB,KAmDTN,EAnDS,OAiEAnC,mBAAS,CAC/B6B,eAAgB,KAChBH,YAAa,KACbC,YAAa,KACbC,YAAa,KACbE,YAAa,OAtES,mBAiEnBY,EAjEmB,KAiEZjB,EAjEY,OAmGQzB,mBAAS,CACvCC,KAAM,KACN0C,IAAK,KACLC,OAAQ,IAtGc,mBAmGnBC,GAnGmB,KAmGRC,GAnGQ,KAwGpBC,GAAc,SAACpC,EAAGV,GACpB,IAAM+C,EAAOrC,EAAEE,OAAOoC,MAAM,GACxBC,EAAMC,IAAIC,gBAAgBJ,GAC9BF,GAAa,CACT7C,KAAMA,EACN0C,IAAKO,EACLN,OAAiB,mBAAT3C,EAA4B,EAAQ,OAEhDoD,IAAa,IAGXC,GAAiB,SAAC3C,EAAGV,GACvBwB,EAAS,eACFiB,EADC,eAEHzC,EAAO,SAtHU,GAuIcD,oBAAS,GAvIvB,qBAuInBuD,GAvImB,MAuILrC,GAvIK,SAmJQlB,oBAAS,GAnJjB,qBAmJnBwD,GAnJmB,MAmJRH,GAnJQ,SAoJYrD,oBAAS,GApJrB,qBAoJnByD,GApJmB,MAoJNC,GApJM,MAqJ1B,OACI,kBAAC,IAAD,CAAKC,MAAO,CAACzE,QAAS,SAClB,kBAAC,IAAD,CAAYyE,MAAO,CAAC7D,SAAU,OAAQ8D,WAAY,OAAQC,aAAc,SAAxE,iBAEA,kBAAC,IAAD,CAAKF,MAAO,CAACvE,QAAS,OAAQC,cAAe,QACzC,kBAAC,IAAD,CAAKsE,MAAO,CAAC7F,MAAO,OAAQQ,SAAU,UAClC,kBAAC,IAAD,CAAOqF,MAAO,CAACzE,QAAS,OAAQE,QAAS,OAAQC,cAAe,WAC5D,kBAAC,IAAD,CAAYsE,MAAO,CAACE,aAAc,QAAlC,SACA,kBAAC,IAAD,CAAeC,YAAY,UAAUC,KAAK,OAAO9D,KAAK,OAAOa,MAAOT,EAAMJ,KAC3DpD,SAAU4D,EAAcuD,UAAQ,EAChCC,aACI,kBAAC,IAAD,CAAgBhG,SAAS,OACrB,kBAAC,IAAD,SAGvB,yBAAK0F,MAAO,CAACvE,QAAS,OAAQC,cAAe,QACzC,yBAAKsE,MAAO,CAAC7F,MAAO,MAAOS,OAAQ,qBAC/B,yBAAKoF,MAAO,CAAC1F,SAAU,WAAYH,MAAO,OAAQ8B,OAAQ,EAAG7B,OAAQ,UACjE,yBAAK4F,MAAO,CACRvE,QAAS,OAAQC,cAAe,MAChCpB,SAAU,WAAYiG,OAAQ,EAAGtE,OAAQ,EACzCuE,KAAM,MAAOC,UAAW,mBAAoBP,aAAc,SAE1D,6BACI,2BAAOQ,QAAS,cACZ,kBAAC,IAAD,CAAUxF,UAAWF,EAAQa,QAEjC,2BAAO8E,GAAG,aAAaP,KAAK,OAAO9D,KAAK,OACjCpD,SAAU,SAAA8D,GAAC,OAAIoC,GAAYpC,EAAG,mBAC9B4D,QAAQ,KAEnB,yBAAKZ,MAAO,CAACa,WAAY,SACrB,kBAAC,IAAD,CAAY3F,UAAWF,EAAQa,KACnBV,QAAS,SAAA6B,GAAC,OAAI2C,GAAe3C,EAAG,uBAGpD,yBAAK8D,IAAI,WACJd,MAAO,CAAC7F,MAAO,OAAQ8B,OAAQ,EAAG7B,OAAQ,OAAQ2G,UAAW,WAC7D/B,IAA6B,MAAxBD,EAAMb,eAAyBa,EAAMb,eACtC8C,OAEb,kBAAC,IAAD,MACA,yBAAKhB,MAAO,CACRvE,QAAS,OACTC,cAAe,MACfuF,eAAgB,kBAEhB,yBAAKjB,MAAO,CAAC1F,SAAU,WAAYH,MAAO,MAAOC,OAAQ,UACrD,yBAAK4F,MAAO,CACRvE,QAAS,OAAQC,cAAe,MAChCpB,SAAU,WAAYiG,OAAQ,EAAGtE,OAAQ,EACzCuE,KAAM,MAAOC,UAAW,qBAExB,6BACI,2BAAOC,QAAS,WACZ,kBAAC,IAAD,CAAUxF,UAAWF,EAAQa,QAEjC,2BAAO8E,GAAG,UAAUP,KAAK,OAAO9D,KAAK,OAC9BpD,SAAU,SAAA8D,GAAC,OAAIoC,GAAYpC,EAAG,gBAC9B4D,QAAQ,KAEnB,yBAAKZ,MAAO,CAACa,WAAY,SACrB,kBAAC,IAAD,CAAY3F,UAAWF,EAAQa,KACnBV,QAAS,SAAA6B,GAAC,OAAI2C,GAAe3C,EAAG,oBAGpD,yBAAK8D,IAAI,WACJd,MAAO,CAAC7F,MAAO,OAAQC,OAAQ,QAAS2G,UAAW,WACnD/B,IAA0B,MAArBD,EAAMhB,YAAsBgB,EAAMhB,YACnCiD,OAEb,kBAAC,IAAD,CAASE,YAAa,WAAYC,UAAU,IAC5C,yBAAKnB,MAAO,CAAC1F,SAAU,WAAYH,MAAO,MAAOC,OAAQ,UACrD,yBAAK4F,MAAO,CACRvE,QAAS,OAAQC,cAAe,MAChCpB,SAAU,WAAYiG,OAAQ,EAAGtE,OAAQ,EACzCuE,KAAM,MAAOC,UAAW,qBAExB,6BACI,2BAAOC,QAAS,WACZ,kBAAC,IAAD,CAAUxF,UAAWF,EAAQa,QAEjC,2BAAO8E,GAAG,UAAUP,KAAK,OAAO9D,KAAK,OAC9BpD,SAAU,SAAA8D,GAAC,OAAIoC,GAAYpC,EAAG,gBAC9B4D,QAAQ,KAEnB,yBAAKZ,MAAO,CAACa,WAAY,SACrB,kBAAC,IAAD,CAAY3F,UAAWF,EAAQa,KACnBV,QAAS,SAAA6B,GAAC,OAAI2C,GAAe3C,EAAG,oBAGpD,yBAAK8D,IAAI,WACJd,MAAO,CAAC7F,MAAO,OAAQC,OAAQ,QAAS2G,UAAW,WACnD/B,IAA0B,MAArBD,EAAMf,YAAsBe,EAAMf,YACnCgD,OAEb,kBAAC,IAAD,CAASE,YAAa,WAAYC,UAAU,IAC5C,yBAAKnB,MAAO,CAAC1F,SAAU,WAAYH,MAAO,MAAOC,OAAQ,UACrD,yBAAK4F,MAAO,CACRvE,QAAS,OAAQC,cAAe,MAChCpB,SAAU,WAAYiG,OAAQ,EAAGtE,OAAQ,EACzCuE,KAAM,MAAOC,UAAW,qBAExB,6BACI,2BAAOC,QAAS,WACZ,kBAAC,IAAD,CAAUxF,UAAWF,EAAQa,QAEjC,2BAAO8E,GAAG,UAAUP,KAAK,OAAO9D,KAAK,OAC9BpD,SAAU,SAAA8D,GAAC,OAAIoC,GAAYpC,EAAG,gBAC9B4D,QAAQ,KAEnB,yBAAKZ,MAAO,CAACa,WAAY,SACrB,kBAAC,IAAD,CAAY3F,UAAWF,EAAQa,KACnBV,QAAS,SAAA6B,GAAC,OAAI2C,GAAe3C,EAAG,oBAGpD,yBAAK8D,IAAI,WACJd,MAAO,CAAC7F,MAAO,OAAQC,OAAQ,QAAS2G,UAAW,WACnD/B,IAA0B,MAArBD,EAAMd,YAAsBc,EAAMd,YACnC+C,OAEb,yBAAKhB,MAAO,CAAC1F,SAAU,WAAYH,MAAO,MAAOC,OAAQ,UACrD,yBAAK4F,MAAO,CACRvE,QAAS,OAAQC,cAAe,MAChCpB,SAAU,WAAYiG,OAAQ,EAAGtE,OAAQ,EACzCuE,KAAM,MAAOC,UAAW,qBAExB,6BACI,2BAAOC,QAAS,WACZ,kBAAC,IAAD,CAAUxF,UAAWF,EAAQa,QAEjC,2BAAO8E,GAAG,UAAUP,KAAK,OAAO9D,KAAK,OAC9BpD,SAAU,SAAA8D,GAAC,OAAIoC,GAAYpC,EAAG,gBAC9B4D,QAAQ,KAEnB,yBAAKZ,MAAO,CAACa,WAAY,SACrB,kBAAC,IAAD,CAAY3F,UAAWF,EAAQa,KACnBV,QAAS,SAAA6B,GAAC,OAAI2C,GAAe3C,EAAG,oBAGpD,yBAAK8D,IAAI,WACJd,MAAO,CAAC7F,MAAO,OAAQC,OAAQ,QAAS2G,UAAW,WACnD/B,IAA0B,MAArBD,EAAMZ,YAAsBY,EAAMZ,YACnC6C,SAIrB,yBAAKhB,MAAO,CAACvE,QAAS,OAAQC,cAAe,SAAUvB,MAAO,QAE1D,yBAAK6F,MAAO,CACRvE,QAAS,OACTC,cAAe,MACfuF,eAAgB,kBAEhB,yBAAKjB,MAAO,CAAC7F,MAAO,MAAOsB,QAAS,OAAQC,cAAe,WACvD,kBAAC,IAAD,CAAYsE,MAAO,CAACpF,OAAQ,gBAAiBuB,SAAU,SAAvD,gBAGA,kBAAC,IAAD,CAAciF,mBAAmB,EAAMjE,MAAOT,EAAMH,WACtCrB,UAAWF,EAAQkB,MACnBiE,YAAY,eACZkB,cA7LzB,SAACC,GACUA,EAAzBC,eAD2B,IACXpE,EAASmE,EAATnE,MACvBR,EAAS,eACFD,EADC,CAEJH,WAAYY,MAyL8DkD,UAAQ,KAE1D,yBAAKL,MAAO,CAAC7F,MAAO,QAChB,kBAAC,IAAD,CAAY6F,MAAO,CAACpF,OAAQ,gBAAiBuB,SAAU,SAAvD,gBAGA,kBAAC,IAAD,CAAciF,mBAAmB,EAAMjE,MAAOT,EAAMF,WACtC2D,YAAY,eACZjF,UAAWF,EAAQkB,MACnBmF,cA/LzB,SAACC,GACUA,EAAzBC,eAD2B,IACXpE,EAASmE,EAATnE,MACvBR,EAAS,eACFD,EADC,CAEJF,WAAYW,MA2L8DkD,UAAQ,KAE1D,yBAAKL,MAAO,CAAC7F,MAAO,QAChB,kBAAC,IAAD,CAAY6F,MAAO,CAACpF,OAAQ,gBAAiBuB,SAAU,SAAvD,YAEA,kBAAC,IAAD,CAAeiE,KAAM,SAAU9D,KAAO,SAASa,MAAOT,EAAMD,OAAQvD,SAAU4D,EAC9EkD,MAAO,CAAC7F,MAAM,YAGtB,yBAAK6F,MAAO,CAACtF,UAAW,OAAQ8G,UAAW,SAAUtG,UAAW,gBAC5D,kBAAC,IAAD,CAAmBhC,SArRvB,SAACY,EAAOV,GAChC,IAAMD,EAAOC,EAAOqI,UACpBnD,EAAYnF,IAmRkEA,KAAMyF,QAMxE,kBAAC,IAAD,CACIoB,MAAO,CAACzE,QAAS,OAAQb,UAAW,OAAQe,QAAS,OAAQC,cAAe,WAC5E,yBAAKsE,MAAO,CAACvE,QAAS,OAAQC,cAAe,QACzC,yBAAKsE,MAAO,CAAC7F,MAAO,MAAOS,OAAQ,oBAC/B,kBAAC,IAAD,CAAQO,QAAS,WACb4E,IAAe,KAEf,kBAAC,IAAD,MAAkB,YAEtB,kBAAC,IAAD,CAAmB5G,KAAM0F,EAAiB3F,SA5RlD,SAACY,EAAOV,GACxB,IAAMD,EAAOC,EAAOqI,UACpBrD,EAAejF,OA4RK,yBAAK6G,MAAO,CAAC7F,MAAO,MAAOS,OAAQ,qBAC/B,kBAAC,IAAD,CAAmBzB,KAAM2F,EAAU5F,SAnS1C,SAACY,EAAOV,GACzB,IAAMD,EAAOC,EAAOqI,UACpBjD,EAAQrF,SAqSI,kBAAC,IAAD,CAAS6G,MAAO,CAACtF,UAAW,UAC5B,yBAAKsF,MAAO,CACRvE,QAAS,OACTC,cAAe,MACfuF,eAAgB,WAChBvG,UAAW,SAEX,kBAAC,IAAD,CAAQgH,QAAQ,YAAYC,MAAM,UAAUC,KAAK,QAAQxB,KAAK,SAASjF,QA7RxE,WACf,IAAMhC,EAAO,CACTmD,KAAMI,EAAMJ,KACZJ,MAAOQ,EAAMH,WACbC,WAAYE,EAAMF,WAClB6B,YAAaQ,EACbN,iBAAkBK,EAClBH,cAAeK,EACf+C,eAAgB9C,EAAMb,eACtBH,YAAagB,EAAMhB,YACnBC,YAAae,EAAMf,YACnBC,YAAac,EAAMd,YACnBE,YAAaY,EAAMZ,YACnB1B,OAASC,EAAMD,QAED,OAAdtD,EAAKmD,KAILwF,YAASrE,IAAY,yBAAqBb,GAAc,GAAIzD,GAAM,GAC7DuE,MAAK,SAAAC,GACFoE,MAAM,mCACN3E,EAAQ4E,KAAK,gBANrBD,MAAM,2BA6QM,gBAEA,kBAAC,IAAD,CAAQL,QAAQ,YAAYE,KAAK,QACzB5B,MAAO,CAACjE,gBAAiB,QAAS8E,WAAY,SADtD,aAMZ,kBAAC,IAAD,CAAU3F,UAAWF,EAAQgB,SAAUlB,KAAM8E,IACzC,kBAAC,IAAD,CAAkB+B,MAAM,aAE5B,kBAAC,IAAD,CAAaxI,KAAM+F,GAAWpE,KAAM+E,GAAWoC,UAzO/B,SAAAjF,GACpB,IAAIV,EAAOU,EAAEV,KACTa,EAAQH,EAAEkF,UACdpE,EAAS,eACFiB,EADC,eAEHzC,EAAOa,MAoOkEpC,QAjOzD,WACrB2E,IAAa,MAiOT,kBAAC,IAAD,CAAe5E,KAAMgF,GAAa3G,KAAM0F,EAAiB9D,QAAS,kBAAMgF,IAAe","file":"static/js/6.f4e54171.chunk.js","sourcesContent":["import React from 'react';\nimport CKEditor from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from 'ck-editor-add-color';\n\n\nconst CkEditorComponent = ({onChange, data}) => {\n    return (\n        <div>\n            <CKEditor\n                editor={ClassicEditor}\n                data = {data}\n                config={{\n                    simpleUpload: {\n                        // The URL that the images are uploaded to.\n                        uploadUrl: `http://ec2-54-254-136-48.ap-southeast-1.compute.amazonaws.com:8080/admin/image/uploads?token=${localStorage.getItem('jwt')}`,\n\n                        // Headers sent along with the XMLHttpRequest to the upload server.\n                        headers: {}\n                    },\n                }}\n                onInit={editor => {\n                    // You can store the \"editor\" and use when it is needed.\n\n\n                }}\n                onChange={onChange}\n                onBlur={(event, editor) => {\n\n                }}\n                onFocus={(event, editor) => {\n\n                }}\n            />\n        </div>\n    );\n};\n\nexport default CkEditorComponent;","import React from 'react';\nimport {Dialog} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport CloseIcon from '@material-ui/icons/Close';\nimport {IconButton} from \"@material-ui/core\";\nimport ReactHtmlParser from 'react-html-parser';\nimport '../static/content-style.css'\n\nconst useStyle = makeStyles({\n    container: {\n        width: '100%',\n        height: '100%',\n    },\n    iconClose: {\n        position: 'fixed',\n        top: '0',\n        right: '0',\n        marginRight: '1rem',\n        marginTop: '1rem'\n    },\n    data: {\n        width: '40%',\n        minWidth: '600px',\n        height: '100vh',\n        margin: 'auto'\n    }\n})\nconst DialogPreview = ({open, data, onClose}) => {\n    const classes = useStyle()\n    return (\n        <Dialog open={open} fullScreen={true}>\n            <div className={classes.container}>\n                <IconButton className={classes.iconClose} onClick={onClose}>\n                    <CloseIcon/>\n                </IconButton>\n                <div className={classes.data}>\n                    <div className={'ck-content'}>\n                        {ReactHtmlParser(data)}\n                    </div>\n                </div>\n            </div>\n\n        </Dialog>\n    );\n};\n\nexport default DialogPreview;","import React, {useState, useEffect, useRef} from 'react';\nimport {Paper, Container, Box, OutlinedInput, Typography, TextField, Select, Button, Divider} from '@material-ui/core'\nimport {FormControl, MenuItem, CircularProgress, DialogContent, Dialog} from '@material-ui/core'\nimport {post_data, get_data, put_data} from \"../ApiCall\";\nimport {useHistory} from 'react-router-dom'\nimport ArrowBackIosRoundedIcon from '@material-ui/icons/ArrowBackIosRounded';\nimport AssignmentRoundedIcon from '@material-ui/icons/AssignmentRounded';\nimport {InputAdornment} from '@material-ui/core'\nimport AttachMoneyRoundedIcon from '@material-ui/icons/AttachMoneyRounded';\nimport {useDispatch} from 'react-redux';\nimport {makeStyles} from '@material-ui/core'\nimport CkEditorComponent from \"../Component/CK_Editor/CkEditor.Component\";\nimport {BACK_END_URL} from \"../ServiceURL\";\nimport DefaultImage from '../static/default-image.jpg'\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport {useParams} from 'react-router-dom'\nimport NumberFormat from \"react-number-format\";\nimport ImageDialog from \"../Component/ImageDialog\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport DialogPreview from \"../Component/DialogPreview\";\n\nconst useAddProductStyles = makeStyles(theme => ({\n    container: {\n        padding: \"50px\",\n    },\n    labelBtn: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        '&:hover': {\n            cursor: \"pointer\"\n        }\n    },\n    imgBtn: {},\n    icon: {\n        padding: '0.5rem',\n        borderRadius: '50%',\n        '&:hover': {\n            backgroundColor: '#e8eaf6',\n            cursor: 'pointer',\n        }\n    },\n    backdrop: {\n        zIndex: 999\n    },\n    price: {\n        width: '90%',\n        padding: '1rem',\n        fontSize: '1rem'\n    }\n}));\n\nconst EditProductPage = () => {\n    const classes = useAddProductStyles();\n    const [state, setState] = useState({\n        name: null,\n        main_price: null,\n        sale_price: null,\n        remain : null\n    });\n    const {product_id} = useParams()\n    const dispatch = useDispatch();\n    const handleChange = (e) => {\n        e.preventDefault()\n        let name = e.target.name;\n        let value = e.target.value;\n        setState({\n            ...state,\n            [name]: value\n        })\n    }\n\n    const history = useHistory();\n\n    useEffect(() => {\n        setOpenBackdrop(true)\n        get_data(BACK_END_URL + `/public/product/${product_id}`, {}, false)\n            .then(res => {\n                console.log(res)\n                setState({\n                    name: res.data.name,\n                    main_price: res.data.price,\n                    sale_price: res.data.sale_price,\n                    remain: res.data.remain\n                })\n                setImage({\n                    url_image_1: res.data.url_image_1,\n                    url_image_2: res.data.url_image_2,\n                    url_image_3: res.data.url_image_3,\n                    url_image_main: res.data.url_image_main,\n                    url_image_4: res.data.url_image_4\n                })\n                setDescription(res.data.description)\n                setDataSale(res.data.description_sale)\n                setSpec(res.data.specification)\n                setOpenBackdrop(false)\n            })\n            .catch(error => setOpenBackdrop(false))\n    }, []);\n\n\n    const [dataSale, setDataSale] = useState('<i>Chương trình khuyến mãi...</i>')\n    const [dataDescription, setDescription] = useState('<i>Chi tiết sản phẩm...</i>')\n    const [dataSpec, setSpec] = useState('<i>Thông số kĩ thuật...</i>')\n    const onSaleProgramChange = (event, editor) => {\n        const data = editor.getData();\n        setDataSale(data)\n    }\n    const onSpecChange = (event, editor) => {\n        const data = editor.getData()\n        setSpec(data)\n    }\n    const onDesChange = (event, editor) => {\n        const data = editor.getData()\n        setDescription(data)\n    }\n\n    const [image, setImage] = useState({\n        url_image_main: null,\n        url_image_1: null,\n        url_image_2: null,\n        url_image_3: null,\n        url_image_4: null\n    })\n\n    const handleSave = () => {\n        const data = {\n            name: state.name,\n            price: state.main_price,\n            sale_price: state.sale_price,\n            description: dataDescription,\n            description_sale: dataSale,\n            specification: dataSpec,\n            url_main_image: image.url_image_main,\n            url_image_1: image.url_image_1,\n            url_image_2: image.url_image_2,\n            url_image_3: image.url_image_3,\n            url_image_4: image.url_image_4,\n            remain : state.remain\n        }\n        if (data.name === null) {\n            alert('You need to fill form')\n            return\n        } else {\n            put_data(BACK_END_URL + `/admin/product/${product_id}`, {}, data, true)\n                .then(res => {\n                    alert('Save product successfully!!!!!!')\n                    history.push('/products')\n                })\n        }\n    }\n    const [dataImage, setDataImage] = useState({\n        name: null,\n        src: null,\n        aspect: 1 / 1\n    })\n    const imageChange = (e, name) => {\n        const file = e.target.files[0]\n        let url = URL.createObjectURL(file)\n        setDataImage({\n            name: name,\n            src: url,\n            aspect: name === 'url_image_main' ? 1 / 1 : null\n        })\n        setOpenImage(true)\n    }\n\n    const handleDelImage = (e, name) => {\n        setImage({\n            ...image,\n            [name]: null\n        })\n    }\n    const handlePriceMain = ((values) => {\n        const {formattedValue, value} = values;\n        setState({\n            ...state,\n            main_price: value\n        })\n    })\n    const handlePriceSale = ((values) => {\n        const {formattedValue, value} = values;\n        setState({\n            ...state,\n            sale_price: value\n        })\n    })\n    const [openBackdrop, setOpenBackdrop] = useState(false)\n    const handleSetImage = (e => {\n        let name = e.name\n        let value = e.url_image\n        setImage({\n            ...image,\n            [name]: value\n        })\n    })\n    const handleImageClose = () => {\n        setOpenImage(false)\n    }\n    const [openImage, setOpenImage] = useState(false)\n    const [openPreview, setOpenPreview] = useState(false)\n    return (\n        <Box style={{padding: \"30px\"}}>\n            <Typography style={{fontSize: \"25px\", fontWeight: \"bold\", marginBottom: \"10px\"}}>Edit\n                Products</Typography>\n            <Box style={{display: \"flex\", flexDirection: \"row\"}}>\n                <Box style={{width: \"100%\", minWidth: \"750px\"}}>\n                    <Paper style={{padding: \"30px\", display: \"flex\", flexDirection: \"column\"}}>\n                        <Typography style={{marginBottom: \"5px\"}}>Title</Typography>\n                        <OutlinedInput placeholder=\"Title *\" type=\"text\" name=\"name\" value={state.name}\n                                       onChange={handleChange} required\n                                       endAdornment={\n                                           <InputAdornment position=\"end\">\n                                               <AssignmentRoundedIcon/>\n                                           </InputAdornment>}\n                        />\n                        <div style={{display: 'flex', flexDirection: 'row'}}>\n                            <div style={{width: '40%', margin: \"20px 20px 20px 0\"}}>\n                                <div style={{position: 'relative', width: '100%', zIndex: 0, height: '300px'}}>\n                                    <div style={{\n                                        display: 'flex', flexDirection: 'row',\n                                        position: 'absolute', bottom: 0, zIndex: 1,\n                                        left: '50%', transform: 'translateX(-50%)', marginBottom: '1rem'\n                                    }}>\n                                        <div>\n                                            <label htmlFor={'main_image'}>\n                                                <EditIcon className={classes.icon}/>\n                                            </label>\n                                            <input id='main_image' type='file' name='file'\n                                                   onChange={e => imageChange(e, 'url_image_main')}\n                                                   hidden={true}/>\n                                        </div>\n                                        <div style={{marginLeft: '1rem'}}>\n                                            <DeleteIcon className={classes.icon}\n                                                        onClick={e => handleDelImage(e, 'url_image_main')}/>\n                                        </div>\n                                    </div>\n                                    <img alt='main-img'\n                                         style={{width: '100%', zIndex: 0, height: '100%', objectFit: 'contain'}}\n                                         src={image.url_image_main != null ? image.url_image_main :\n                                             DefaultImage}/>\n                                </div>\n                                <Divider/>\n                                <div style={{\n                                    display: 'flex',\n                                    flexDirection: 'row',\n                                    justifyContent: 'space-between'\n                                }}>\n                                    <div style={{position: 'relative', width: '25%', height: '130px'}}>\n                                        <div style={{\n                                            display: 'flex', flexDirection: 'row',\n                                            position: 'absolute', bottom: 0, zIndex: 1,\n                                            left: '50%', transform: 'translateX(-50%)'\n                                        }}>\n                                            <div>\n                                                <label htmlFor={'image_1'}>\n                                                    <EditIcon className={classes.icon}/>\n                                                </label>\n                                                <input id='image_1' type='file' name='file'\n                                                       onChange={e => imageChange(e, 'url_image_1')}\n                                                       hidden={true}/>\n                                            </div>\n                                            <div style={{marginLeft: '1rem'}}>\n                                                <DeleteIcon className={classes.icon}\n                                                            onClick={e => handleDelImage(e, 'url_image_1')}/>\n                                            </div>\n                                        </div>\n                                        <img alt='main-img'\n                                             style={{width: '100%', height: '130px', objectFit: 'contain'}}\n                                             src={image.url_image_1 != null ? image.url_image_1 :\n                                                 DefaultImage}/>\n                                    </div>\n                                    <Divider orientation={'vertical'} flexItem={true}/>\n                                    <div style={{position: 'relative', width: '25%', height: '130px'}}>\n                                        <div style={{\n                                            display: 'flex', flexDirection: 'row',\n                                            position: 'absolute', bottom: 0, zIndex: 1,\n                                            left: '50%', transform: 'translateX(-50%)'\n                                        }}>\n                                            <div>\n                                                <label htmlFor={'image_2'}>\n                                                    <EditIcon className={classes.icon}/>\n                                                </label>\n                                                <input id='image_2' type='file' name='file'\n                                                       onChange={e => imageChange(e, 'url_image_2')}\n                                                       hidden={true}/>\n                                            </div>\n                                            <div style={{marginLeft: '1rem'}}>\n                                                <DeleteIcon className={classes.icon}\n                                                            onClick={e => handleDelImage(e, 'url_image_2')}/>\n                                            </div>\n                                        </div>\n                                        <img alt='main-img'\n                                             style={{width: '100%', height: '130px', objectFit: 'contain'}}\n                                             src={image.url_image_2 != null ? image.url_image_2 :\n                                                 DefaultImage}/>\n                                    </div>\n                                    <Divider orientation={'vertical'} flexItem={true}/>\n                                    <div style={{position: 'relative', width: '25%', height: '130px'}}>\n                                        <div style={{\n                                            display: 'flex', flexDirection: 'row',\n                                            position: 'absolute', bottom: 0, zIndex: 1,\n                                            left: '50%', transform: 'translateX(-50%)'\n                                        }}>\n                                            <div>\n                                                <label htmlFor={'image_3'}>\n                                                    <EditIcon className={classes.icon}/>\n                                                </label>\n                                                <input id='image_3' type='file' name='file'\n                                                       onChange={e => imageChange(e, 'url_image_3')}\n                                                       hidden={true}/>\n                                            </div>\n                                            <div style={{marginLeft: '1rem'}}>\n                                                <DeleteIcon className={classes.icon}\n                                                            onClick={e => handleDelImage(e, 'url_image_3')}/>\n                                            </div>\n                                        </div>\n                                        <img alt='main-img'\n                                             style={{width: '100%', height: '130px', objectFit: 'contain'}}\n                                             src={image.url_image_3 != null ? image.url_image_3 :\n                                                 DefaultImage}/>\n                                    </div>\n                                    <div style={{position: 'relative', width: '25%', height: '130px'}}>\n                                        <div style={{\n                                            display: 'flex', flexDirection: 'row',\n                                            position: 'absolute', bottom: 0, zIndex: 1,\n                                            left: '50%', transform: 'translateX(-50%)'\n                                        }}>\n                                            <div>\n                                                <label htmlFor={'image_4'}>\n                                                    <EditIcon className={classes.icon}/>\n                                                </label>\n                                                <input id='image_4' type='file' name='file'\n                                                       onChange={e => imageChange(e, 'url_image_4')}\n                                                       hidden={true}/>\n                                            </div>\n                                            <div style={{marginLeft: '1rem'}}>\n                                                <DeleteIcon className={classes.icon}\n                                                            onClick={e => handleDelImage(e, 'url_image_4')}/>\n                                            </div>\n                                        </div>\n                                        <img alt='main-img'\n                                             style={{width: '100%', height: '130px', objectFit: 'contain'}}\n                                             src={image.url_image_4 != null ? image.url_image_4 :\n                                                 DefaultImage}/>\n                                    </div>\n                                </div>\n                            </div>\n                            <div style={{display: 'flex', flexDirection: 'column', width: '60%'}}>\n\n                                <div style={{\n                                    display: \"flex\",\n                                    flexDirection: \"row\",\n                                    justifyContent: \"space-between\"\n                                }}>\n                                    <div style={{width: \"32%\", display: 'flex', flexDirection: 'column'}}>\n                                        <Typography style={{margin: \"20px 0 10px 0\", fontSize: \"14px\"}}>Main\n                                            price\n                                            :</Typography>\n                                        <NumberFormat thousandSeparator={true} value={state.main_price}\n                                                      className={classes.price}\n                                                      placeholder=\"Main Price *\"\n                                                      onValueChange={handlePriceMain} required/>\n                                    </div>\n                                    <div style={{width: \"32%\"}}>\n                                        <Typography style={{margin: \"20px 0 10px 0\", fontSize: \"14px\"}}>Sale\n                                            price\n                                            :</Typography>\n                                        <NumberFormat thousandSeparator={true} value={state.sale_price}\n                                                      placeholder=\"Sale Price *\"\n                                                      className={classes.price}\n                                                      onValueChange={handlePriceSale} required/>\n                                    </div>\n                                    <div style={{width: \"32%\"}}>\n                                        <Typography style={{margin: \"20px 0 10px 0\", fontSize: \"14px\"}}>Remain\n                                            :</Typography>\n                                        <OutlinedInput type={'number'} name = 'remain' value={state.remain} onChange={handleChange}\n                                        style={{width:'100%'}}/>\n                                    </div>\n                                </div>\n                                <div style={{marginTop: '1rem', minHeight: '20rem'}} className={'sale-program'}>\n                                    <CkEditorComponent onChange={onSaleProgramChange} data={dataSale}/>\n                                </div>\n                            </div>\n                        </div>\n                    </Paper>\n\n                    <Paper\n                        style={{padding: \"1rem\", marginTop: \"2rem\", display: \"flex\", flexDirection: \"column\"}}>\n                        <div style={{display: 'flex', flexDirection: 'row'}}>\n                            <div style={{width: '70%', margin: \"0px 20px 20px 0\"}}>\n                                <Button onClick={() => {\n                                    setOpenPreview(true)\n                                }}>\n                                    <VisibilityIcon/>{' Preview'}\n                                </Button>\n                                <CkEditorComponent data={dataDescription} onChange={onDesChange}/>\n                            </div>\n                            <div style={{width: '30%', margin: \"35px 20px 20px 0\"}}>\n                                <CkEditorComponent data={dataSpec} onChange={onSpecChange}/>\n                            </div>\n                        </div>\n                    </Paper>\n                    <Divider style={{marginTop: \"30px\"}}/>\n                    <div style={{\n                        display: \"flex\",\n                        flexDirection: \"row\",\n                        justifyContent: \"flex-end\",\n                        marginTop: \"10px\"\n                    }}>\n                        <Button variant=\"contained\" color=\"primary\" size=\"large\" type=\"submit\" onClick={handleSave}>Save\n                            Product</Button>\n                        <Button variant=\"contained\" size=\"large\"\n                                style={{backgroundColor: \"white\", marginLeft: \"10px\"}}\n                        >Cancel</Button>\n                    </div>\n                </Box>\n            </Box>\n            <Backdrop className={classes.backdrop} open={openBackdrop}>\n                <CircularProgress color=\"inherit\"/>\n            </Backdrop>\n            <ImageDialog data={dataImage} open={openImage} setPImage={handleSetImage} onClose={handleImageClose}/>\n            <DialogPreview open={openPreview} data={dataDescription} onClose={() => setOpenPreview(false)}/>\n        </Box>\n    );\n};\n\nexport default EditProductPage;"],"sourceRoot":""}