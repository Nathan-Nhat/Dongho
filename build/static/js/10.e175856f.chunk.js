(this.webpackJsonpadmin_dashboard=this.webpackJsonpadmin_dashboard||[]).push([[10,12],{340:function(e,t,a){},375:function(e,t,a){"use strict";a.r(t),a.d(t,"GetFormattedDate",(function(){return k}));var n=a(16),r=a(8),l=a(0),c=a.n(l),i=a(77),d=a(311),m=a(318),o=a(316),s=a(60),u=a(309),p=a(353),g=a(174),E=a(272),h=a(273),_=a(176),b=a(50),y=a(274),f=a(15),v=a(13),x=a(505),N=a(331),w=a.n(N),O=a(332),j=a.n(O),C=a(350),S=(a(376),a(377)),D=a.n(S),T=(a(340),a(32));function k(e){var t=new Date(e),a=t.getMonth();return[t.getDate()+"/"+a+"/"+t.getFullYear(),t.getHours()+":"+("0"+t.getMinutes()).slice(-2)]}var R=Object(i.a)({container:{padding:"1em"},body:{},cellHeader:{fontWeight:"bold",backgroundColor:"#cccccc"},date:{display:"flex",flexDirection:"column",textAlign:"center"},status:{width:"136px",margin:"auto",padding:"0.25em",color:"white",borderRadius:"3px"},toolbar:{marginBottom:"1em",display:"flex",flexDirection:"row"},search:{border:"1px solid black",opacity:"70%",float:"right",flexGrow:1,borderRadius:"5px",backgroundColor:"white","&>input":{}},filter:{width:"200px",marginRight:"2em",backgroundColor:"white"}});t.default=function(){var e=R(),t=Object(l.useState)({list:[],page:1,item_per_page:10,total_page:1,total:0}),a=Object(r.a)(t,2),i=a[0],N=a[1],O=Object(l.useState)(-1),S=Object(r.a)(O,2),q=S[0],L=S[1],G=Object(l.useState)(""),W=Object(r.a)(G,2),A=W[0],H=W[1],P=Object(l.useState)({startDate:new Date((new Date).getTime()-2592e6),endDate:new Date}),I=Object(r.a)(P,2),M=I[0],z=I[1];Object(l.useEffect)((function(){Object(f.b)(v.a+"admin/order",{page:i.page,iter_per_page:i.item_per_page,status:q,query:A,date_from:M.startDate,date_to:M.endDate},!0).then((function(e){return N({page:e.data.page,item_per_page:e.data.item_per_page,list:e.data.list_order,total_page:e.data.total_page,total:e.data.total})}))}),[i.page,i.item_per_page,q,M]);return c.a.createElement("div",{className:e.container},c.a.createElement("h2",null,"Orders"),c.a.createElement("div",{className:e.toolbar},c.a.createElement(d.a,{variant:"outlined",required:!0,className:e.filter},c.a.createElement(m.a,{value:q,onChange:function(e){L(e.target.value)}},c.a.createElement(o.a,{value:-1},"T\u1ea5t c\u1ea3"),c.a.createElement(o.a,{value:0},"M\u1edbi"),c.a.createElement(o.a,{value:1},"\u0110ang v\u1eadn chuy\u1ec3n"),c.a.createElement(o.a,{value:2},"\u0110\xe3 nh\u1eadn"),c.a.createElement(o.a,{value:3},"Ho\xe0n"))),c.a.createElement(D.a,{selected:M.startDate,onChange:function(e){z(Object(n.a)({},M,{startDate:e}))}}),c.a.createElement(D.a,{selected:M.endDate,onChange:function(e){z(Object(n.a)({},M,{endDate:e}))}}),c.a.createElement(C.a,{disableHoverListener:!0,arrow:!0,placement:"bottom-start",title:c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{style:{fontSize:"0.7rem"}},"Press ",c.a.createElement("div",{style:{border:"1px solid #888a8c",padding:"0 0.5rem 0 0.5rem",borderRadius:"3px",display:"inline-block"}},c.a.createElement(w.a,{style:{fontSize:"0.7rem",paddingRight:"0.3rem"}}),"Enter")," to search"))},c.a.createElement(u.a,{className:e.search,onKeyDown:function(e){"Enter"===e.key&&Object(f.b)(v.a+"admin/order",{page:i.page,iter_per_page:i.item_per_page,status:q,query:A,date_from:M.startDate,date_to:M.endDate},!0).then((function(e){return N({page:e.data.page,item_per_page:e.data.item_per_page,list:e.data.list_order,total_page:e.data.total_page,total:e.data.total})}))},id:"input-with-icon-textfield",disableUnderline:!0,onChange:function(e){H(e.target.value)},name:"search",value:A,startAdornment:c.a.createElement(p.a,null,c.a.createElement(j.a,{style:{paddingLeft:"0.5rem",paddingRight:"0.5rem"}}))}))),c.a.createElement(g.a,{className:e.body},c.a.createElement(E.a,null,c.a.createElement(h.a,null,c.a.createElement(_.a,null,c.a.createElement(b.a,{className:e.cellHeader,align:"center"},"ID"),c.a.createElement(b.a,{className:e.cellHeader,align:"center"},"DATE"),c.a.createElement(b.a,{className:e.cellHeader,align:"center"},"STATUS"),c.a.createElement(b.a,{className:e.cellHeader,align:"center"},"ORDER ITEMS"),c.a.createElement(b.a,{className:e.cellHeader,align:"center"},"CUSTOMER"),c.a.createElement(b.a,{className:e.cellHeader,align:"center"},"ACTIONS"))),c.a.createElement(y.a,null,i.list.map((function(t,a){return c.a.createElement(_.a,{key:a},c.a.createElement(b.a,{align:"center"},c.a.createElement(T.b,{to:"/orders/".concat(t.order_id)},"#".concat(t.order_id))),c.a.createElement(b.a,{align:"center"},c.a.createElement("div",{className:e.date},c.a.createElement(s.a,null,k(t.date_create)[0]),c.a.createElement(s.a,{style:{fontSize:"0.9em"}},k(t.date_create)[1]))),c.a.createElement(b.a,{align:"center"},c.a.createElement("p",{className:e.status,style:{backgroundColor:0===t.status?"#c20000":1===t.status?"#c2ab00":2===t.status?"green":"grey"}},0===t.status?"M\u1edbi":1===t.status?"\u0110ang v\u1eadn chuy\u1ec3n":2===t.status?"\u0110\xe3 nh\u1eadn":"Ho\xe0n")),c.a.createElement(b.a,{align:"center"},t.ordered_product.map((function(e,t){return c.a.createElement("div",{key:t},e.product.name," x ",e.quantity)}))),c.a.createElement(b.a,{align:"center"},c.a.createElement("div",null,t.name),c.a.createElement("div",null,"".concat(t.phone_number_1)," ",""!==t.phone_number_2?"-".concat(t.phone_number_2):"")))})))),c.a.createElement(x.a,{rowsPerPageOptions:[5,10,25],component:"div",count:i.total,rowsPerPage:i.item_per_page,page:i.page-1,onChangePage:function(e,t){N(Object(n.a)({},i,{page:t+1}))},onChangeRowsPerPage:function(e){N(Object(n.a)({},i,{page:1,item_per_page:e.target.value}))}})))}},515:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(16),l=a(8),c=a(0),i=a.n(c),d=a(77),m=a(59),o=a(174),s=a(60),u=a(268),p=a(22),g=a(15),E=a(13),h=a(375),_=a(106),b=function(e){var t=e.open,a=e.onClose,n=e.handleAddToOrder,d=e.order_id,o=Object(c.useState)(""),p=Object(l.a)(o,2),h=p[0],b=p[1],y=Object(c.useState)({isLoading:!0,product:{}}),f=Object(l.a)(y,2),v=f[0],x=f[1],N=Object(c.useState)(!1),w=Object(l.a)(N,2),O=w[0],j=w[1],C=Object(c.useState)({error:!1,message:""}),S=Object(l.a)(C,2),D=S[0],T=S[1],k=Object(c.useState)(1),R=Object(l.a)(k,2),q=R[0],L=R[1];return i.a.createElement(_.a,{open:t,onClose:a},i.a.createElement("div",{style:{width:"500px"}},i.a.createElement(s.a,{style:{fontWeight:"bold",padding:"1em"}},"Th\xeam s\u1ea3n ph\u1ea9m"),i.a.createElement(u.a,null),i.a.createElement("div",{style:{padding:"1em"}},i.a.createElement(s.a,null,"Search product with id:"),i.a.createElement("input",{style:{border:"1px solid rgba(0,0,0,0.1)",padding:"0.75em",width:"100%",boxSizing:"border-box"},type:"number",value:h,onChange:function(e){b(e.target.value)}})),i.a.createElement("div",{style:{width:"100%",marginBottom:"1em"}},i.a.createElement(m.a,{style:{display:"block",margin:"auto"},variant:"contained",color:"secondary",onClick:function(){j(!0),x(Object(r.a)({},v,{isLoading:!0})),Object(g.b)(E.a+"public/product/".concat(h),{},!1).then((function(e){T(Object(r.a)({},D,{error:!1})),x({isLoading:!1,product:e.data})})).catch((function(e){x(Object(r.a)({},v,{isLoading:!1})),T({error:!0,message:"Kh\xf4ng t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m"})}))}},"Search")),O?i.a.createElement("div",{style:{padding:"1em"}},v.isLoading?i.a.createElement("div",null,"Loading..."):D.error?i.a.createElement("div",null,D.message):i.a.createElement("div",{style:{display:"flex"}},i.a.createElement("img",{alt:"image",src:v.product.url_image_main,style:{width:"7em"}}),i.a.createElement("div",{style:{marginLeft:"1em"}},i.a.createElement(s.a,{style:{fontWeight:"bold"}},v.product.name),i.a.createElement(s.a,{style:{textDecoration:"line-through"}},"".concat(Number(v.product.price).toLocaleString("vi"))),i.a.createElement(s.a,null,"".concat(Number(v.product.sale_price).toLocaleString("vi")))),i.a.createElement("div",{style:{alignSelf:"center",marginLeft:"2em"}},"x"),i.a.createElement("input",{style:{alignSelf:"center",width:"2em",padding:"0.75em",marginLeft:"2em",textAlign:"center"},value:q,type:"number",onChange:function(e){L(e.target.value)}}),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(m.a,{variant:"contained",color:"primary",style:{alignSelf:"center",marginLeft:"2em"},onClick:function(e){Object(g.c)(E.a+"admin/ordered_product",{},{product_id:v.product.product_id,order_id:d,quantity:q},!0).then((function(e){n({product:v.product,quantity:q})})).catch((function(e){return console.log(e)}))}},"Add"))):null))},y=Object(d.a)({container:{padding:"1em"},orderId:{fontSize:"1.5em",fontWeight:"bold",marginRight:"0.5em"},bodyOrder:{marginTop:"1em",display:"flex",width:"100%",justifyContent:"space-between"},orderDetail:{width:"100%",alignSelf:"flex-start"},orderDetailTitle:{padding:"1em",fontWeight:"bold"},image:{width:"5em",border:"1px solid rgba(0,0,0,0.1)"},detailBody:{padding:"1em"},detailElement:{display:"flex",marginTop:"1em"},priceContainer:{display:"flex",flexDirection:"column",justifyContent:"center"},mainPrice:{textDecoration:"line-through"},x:{marginLeft:"1em",display:"flex",flexDirection:"column",justifyContent:"center"},customer:{width:"29%"},requireInfo:{padding:"1em"},customerElement:{display:"flex",marginTop:"0.5em"},textRight:{textAlign:"left",fontWeight:"bold"}});t.default=function(){var e=y(),t=Object(p.i)().id,a=Object(c.useState)(!1),d=Object(l.a)(a,2),_=d[0],f=d[1],v=Object(c.useState)({address:"",city:{id:1,name:null},company_address:null,company_name:null,date_create:"",date_update:"",district:{id:1,name:null},name:"",note:null,order_id:612033,ordered_product:[],payment_method:0,phone_number_1:"",phone_number_2:"",ship_method:0,status:0,tax_number:null,time_ship:0,vat_required:!1,ward:{id:1,name:null}}),x=Object(l.a)(v,2),N=x[0],w=x[1],O=Object(c.useState)(!0),j=Object(l.a)(O,2),C=j[0],S=j[1];Object(c.useEffect)((function(){Object(g.b)(E.a+"admin/order/".concat(t),{},!0).then((function(e){w({address:e.data.address,city:{id:e.data.city.id,name:e.data.city.name},company_address:e.data.company_address,company_name:e.data.company_name,date_create:e.data.date_create,date_update:e.data.date_update,district:{id:e.data.district.id,name:e.data.district.name},name:e.data.name,note:e.data.note,order_id:t,ordered_product:e.data.ordered_product,payment_method:e.data.payment_method,phone_number_1:e.data.phone_number_1,phone_number_2:e.data.phone_number_2,ship_method:e.data.ship_method,status:e.data.status,tax_number:e.data.tax_number,time_ship:e.data.time_ship,vat_required:e.data.vat_required,ward:{id:e.data.ward.id,name:e.data.ward.name}})})).catch((function(e){return console.log(e)}))}),[t]);var D=Object(c.useMemo)((function(){return N.ordered_product.reduce((function(e,t){return e+t.quantity*t.product.sale_price}),0)}),[N]),T=function(e){var t=e.target.value,a=e.target.name;w(Object(r.a)({},N,Object(n.a)({},a,t)))};return i.a.createElement("div",{className:e.container},i.a.createElement("span",{className:e.orderId},"Order ID : #".concat(t)),i.a.createElement("span",null,"".concat(Object(h.GetFormattedDate)(N.date_create)[0]," at ").concat(Object(h.GetFormattedDate)(N.date_create)[1])),C?i.a.createElement(m.a,{style:{display:"block",marginTop:"1em"},variant:"contained",onClick:function(){S(!1)},color:"primary"},"Edit"):i.a.createElement(m.a,{style:{display:"block",marginTop:"1em"},variant:"contained",color:"secondary",onClick:function(){var e={address:N.address,city_id:N.city.id,company_address:N.company_address,company_name:N.company_name,date_create:N.date_create,date_update:N.date_update,district_id:N.district.id,name:N.name,note:N.note,list_orders:N.ordered_product.map((function(e){return{product_id:e.product.product_id,quantity:e.quantity}})),payment_method:N.payment_method,phone_number_1:N.phone_number_1,phone_number_2:N.phone_number_2,ship_method:N.ship_method,status:N.status,tax_number:N.tax_number,time_ship:N.time_ship,vat_required:N.vat_required,ward_id:N.ward.id};Object(g.d)(E.a+"admin/order/".concat(t),{},e,!0).then((function(e){S(!0)})).catch((function(e){console.log(e)}))}},"Save"),i.a.createElement("div",{className:e.bodyOrder},i.a.createElement("div",{style:{width:"69%"}},i.a.createElement(o.a,{className:e.orderDetail},i.a.createElement(s.a,{variant:"h6",className:e.orderDetailTitle},"Order Details"),i.a.createElement(u.a,null),i.a.createElement("div",{className:e.detailBody},N.ordered_product.map((function(a,n){return i.a.createElement("div",{className:e.detailElement,key:n},i.a.createElement("img",{className:e.image,src:a.product.url_image_main,alt:"image_product"}),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"1em",maxWidth:"10em"}},i.a.createElement("a",{target:"_blank",style:{fontSize:"1em",fontWeight:"bold"},href:E.b+"/product/".concat(a.product.product_id)},a.product.name)),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("div",{className:e.priceContainer},i.a.createElement(s.a,{className:e.mainPrice},"".concat(Number(a.product.price).toLocaleString("vi"),"\u0111")),i.a.createElement(s.a,null,"".concat(Number(a.product.sale_price).toLocaleString("vi"),"\u0111"))),i.a.createElement("div",{className:e.x},i.a.createElement("span",null,"x")),i.a.createElement("div",{className:e.x},i.a.createElement("input",{value:a.quantity,disabled:C,style:{padding:"0.5em",width:"2em"},onChange:function(e){return function(e,t){var a=N.ordered_product;a[t].quantity=e.target.value,w(Object(r.a)({},N,{ordered_product:a}))}(e,n)}})),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("div",{className:e.x,style:{fontWeight:"bold"}},i.a.createElement("span",null,"".concat(Number(a.product.sale_price*a.quantity).toLocaleString("vi"),"\u0111"))),C?null:i.a.createElement(m.a,{variant:"contained",onClick:function(){return function(e,a){Object(g.a)(E.a+"admin/ordered_product/".concat(t,"/").concat(a),{},!0).then((function(t){var a=N.ordered_product;a.splice(e,1),w(Object(r.a)({},N,{ordered_product:a}))}))}(n,a.product.product_id)},style:{alignSelf:"center",marginLeft:"1em"}},"Delete"))})),C?null:i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(m.a,{style:{display:"block",margin:"auto",marginTop:"1em"},variant:"contained",color:"secondary",onClick:function(){f(!0)}},"Th\xeam s\u1ea3n ph\u1ea9m"))),i.a.createElement(u.a,null),i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",padding:"1em"}},i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(s.a,{style:{fontWeight:"bold",fontSize:"1.2rem",marginRight:"2em"}},"Total"),i.a.createElement(s.a,{style:{fontWeight:"bold",fontSize:"1.2rem"}},"".concat(Number(D).toLocaleString("vi"),"\u0111")))),i.a.createElement(o.a,{style:{marginTop:"1em"}},i.a.createElement(s.a,{variant:"h6",style:{fontWeight:"bold",padding:"1em"}},"More Infomation"),i.a.createElement(u.a,null),i.a.createElement("div",{style:{padding:"1em"}},i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Note:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("textarea",{value:N.note,name:"note",className:e.textRight,rows:4,onChange:T,style:{width:"70%"},disabled:C})),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Company Tax:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("input",{style:{width:"70%"},className:e.textRight,value:N.tax_number,name:"tax_number",disabled:C,onChange:T})),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Company Name:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("input",{style:{width:"70%"},className:e.textRight,value:N.company_name,name:"company_name",disabled:C,onChange:T})),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Company Address:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("input",{style:{width:"70%"},className:e.textRight,onChange:T,value:N.company_address,name:"company_address",disabled:C}))),i.a.createElement("div",{style:{padding:"1em"}},i.a.createElement(s.a,{style:{fontWeight:"bold"}},"Shipping"),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Ship method:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("select",{value:N.ship_method,style:{width:"71%",fontWeight:"bold"},name:"ship_method",disabled:C,onChange:T},i.a.createElement("option",{value:0},"V\u1eadn chuy\u1ec3n mi\u1ec5n ph\xed"),i.a.createElement("option",{value:1},"V\u1eadn chuy\u1ec3n c\xf3 ph\xed"),i.a.createElement("option",{value:2},"Qu\xfd kh\xe1ch nh\u1eadn h\xe0ng t\u1ea1i VIETNHAT"),i.a.createElement("option",{value:3},"Mu\u1ed1n th\u1ecfa thu\u1eadn v\u1edbi VIETNHAT"))),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Ship time:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("select",{value:N.time_ship,style:{width:"71%",fontWeight:"bold"},onChange:T,name:"time_ship",disabled:C},i.a.createElement("option",{value:0},"B\u1ea5t k\xec"),i.a.createElement("option",{value:1},"Trong gi\u1edd h\xe0nh ch\xednh"),i.a.createElement("option",{value:2},"Ngo\xe0i gi\u1edd h\xe0nh ch\xednh")))))),i.a.createElement(o.a,{className:e.customer},i.a.createElement(s.a,{variant:"h6",className:e.orderDetailTitle},"Customer"),i.a.createElement(u.a,null),i.a.createElement("div",{className:e.requireInfo},i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Name:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("input",{className:e.textRight,value:N.name,name:"name",disabled:C,onChange:T})),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Phone Number 1:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("input",{className:e.textRight,value:N.phone_number_1,name:"phone_number_1",onChange:T,disabled:C})),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Phone Number 2:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("input",{className:e.textRight,value:N.phone_number_2,name:"phone_number_2",onChange:T,disabled:C}))),i.a.createElement(u.a,null),i.a.createElement("div",{style:{padding:"1em"}},i.a.createElement(s.a,{style:{fontWeight:"bold"}},"Shipping Adress"),i.a.createElement("div",null,i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"City:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(s.a,{className:e.textRight},N.city.name)),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"District:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(s.a,{className:e.textRight},N.district.name)),i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Ward:"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement(s.a,{className:e.textRight},N.ward.name)),i.a.createElement("div",{style:{marginTop:"0.5em"}},i.a.createElement("div",{className:e.customerElement},i.a.createElement(s.a,null,"Specific Address:"),i.a.createElement("textarea",{className:e.textRight,value:N.address,disabled:C,onChange:T,name:"address",rows:4,style:{width:"100%",textAlign:"left"}}))))))),i.a.createElement(b,{open:_,onClose:function(){return f(!1)},handleAddToOrder:function(e){var t=N.ordered_product;t.push({product:e.product,quantity:e.quantity}),w(Object(r.a)({},N,{ordered_product:t})),f(!1)}}))}}}]);
//# sourceMappingURL=10.e175856f.chunk.js.map